import unittest
from crawl import valid, articles

class TestCrawler(unittest.TestCase):
    def setUp(self):
        self.url = 'https://3dnews.ru/'
        self.articles_expected = [{'title': 'Системная камера Olympus E-M5 Mark III представляет собой мини-E-M1 II'}, {'title': 'Установка аппаратной «закладки» может стоить всего $200'}, {'title': 'Обзор 4K-проектора LG CineBeam HU80KSW: здравствуй, огромный экран!'}, {'title': 'Обзор смартфона OPPO Reno2: вторая попытка войти в высшее общество'}, {'title': 'Xiaomi выпустила массивный 34" изогнутый игровой монитор и 23,8" монитор'}, {'title': 'Откровения первого покупателя Intel Core i9-9900KS: запаса по разгону не ждите'}, {'title': 'Католическая церковь представила умные чётки eRosary'}, {'title': 'Анонсирован электромобиль Volvo XC40 Recharge мощностью 408 л. с.'}, {'title': 'CD Projekt RED опасалась, что в The Witcher 3: Wild Hunt не будет хватать контента'}, {'title': 'Раскрыты имена смартфонов Samsung Galaxy A модельного ряда 2021 года'}, {'title': 'Монитор Philips 346B1C оснащён вогнутым экраном UltraWide QHD'}, {'title': 'NZXT вместе с ASRock представила корпус H510i Phantom Gaming Special Edition'}, {'title': 'ASML сообщает о превосходном спросе на EUV-сканеры'}, {'title': 'Xiaomi подтвердила, что через неделю выпустит RedmiBook с процессором AMD'}, {'title': 'Olympus представила системную камеру PEN E-PL10 с матрицей Micro 4:3 и откидным экраном'}, {'title': 'MSI готовит видеокарты GeForce GTX 1660 Super серий Gaming X и Ventus XS'}, {'title': 'Сетевая платформа WIN Enterprises LP-82000 использует Intel Atom Denverton'}, {'title': 'Huawei опасается, что связанные с США сотрудники могут стать источником утечки конфиденциальных данных'}, {'title': 'Tesla получила добро на производство электромобилей в Китае'}, {'title': 'Oppo выпустит двухрежимный смартфон 5G в конце года'}, {'title': 'Агентство NASA представило скафандры для полётов на Луну и Марс'}, {'title': 'PlayStation 4 Pro осталась без 4K в The Outer Worlds'}, {'title': 'На отчётной конференции IBM говорила о бизнесе вокруг Red Hat, с остальным всё не слишком хорошо'}, {'title': 'Релиз вампирской RPG Vampire: The Masquerade – Bloodlines 2 отложен'}, {'title': 'Control, наконец, получила обновление с фоторежимом'}, {'title': 'Анимационный трейлер нового чемпиона Сенны и другие обновления League of Legends'}, {'title': 'Legends of Runeterra — коллекционная карточная игра во вселенной League of Legends'}, {'title': 'В пятом сезоне PUBG можно будет кидать во врагов топоры и сковородки'}, {'title': 'Blizzard забанила американскую команду по Hearthstone\xa0на полгода за плакат с призывом об освобождении Гонконга'}, {'title': 'Для PC-версии Saints Row 2 выйдет обновление с техническими улучшениями, хотя игре уже 11 лет'}, {'title': 'Видео: персонажи и весёлые сражения с использованием разного оружия в Plants vs. Zombies: Battle for Neighborville'}, {'title': 'Riot Games анонсировала тактический шутер, а также файтинг и dungeon crawler во вселенной LoL'}, {'title': 'Видео: League of Legends вскоре выйдет на смартфонах и консолях'}, {'title': 'Обзор Huawei MateBook D 15 (MRC-W10): недорогой ноутбук для учебы и работы'}, {'title': 'Обзор NVMe-накопителя Lexar NM610: возвращение легенды'}, {'title': 'Gamesblender № 434: перенос Doom Eternal, PlayStation 5 в конце 2020-го и Blizzard в центре скандала'}, {'title': 'Обзор iPhone 11: Apple против жабы'}, {'title': "Tom Clancy's Ghost Recon: Breakpoint — удивительный винегрет. Рецензия"}, {'title': 'Code Vein — у вампиров тоже есть душа. Рецензия'}, {'title': 'Обзор игрового WQHD-монитора ASUS TUF Gaming VG27AQ:\nизбавление от кандалов'}, {'title': 'Обзор и тестирование корпуса NZXT H510: минимализм с компромиссами'}, {'title': 'Обзор смартфона BQ Strike Power Max: я хочу еще немного дольше'}, {'title': 'Обзор умной колонки Яндекс.Станция Мини: джедайские штучки'}, {'title': 'Компьютер месяца. Спецвыпуск: собираем игровой ПК за 100\nтысяч рублей (осень-зима 2019 года)'}, {'title': 'Обзор ASUS ROG Phone II: самый мощный Android-смартфон'}, {'title': 'Gamesblender № 433: RDR2 на ПК, Sony без Лейдена и новая эра VR в The Walking Dead: Saints & Sinners'}, {'title': 'Обзор видеокарты SAPPHIRE PULSE Radeon RX 5700 XT: кулер здорового человека'}, {'title': 'Ренессанс мобильных игр? Обзор Apple Arcade'}, {'title': 'От DOOM Eternal до King’s Bounty II: 11 игр, ради которых стоит сходить на «ИгроМир 2019»'}, {'title': 'Обзор игрового WQHD-монитора Gigabyte AORUS CV27Q: впереди планеты всей'}, {'title': 'Обзор электросамоката Starway Z9: чемпион в тяжелом весе'}, {'title': 'Обзор смартфона Huawei Mate 30 Pro: особенный'}, {'title': 'Обзор материнской платы ASRock X570 Steel Legend: начальный уровень X570'}, {'title': 'Обзор смартфона Huawei Mate 30 Pro: особенный'}, {'title': 'Обзор материнской платы ASRock X570 Steel Legend: начальный уровень X570'}, {'title': 'Компьютер месяца — октябрь 2019 года'}, {'title': 'Gamesblender № 432: жестокая The Last of Us Part II, бескровная Fallen Order и Medal of Honor в VR'}, {'title': 'Групповое тестирование 43 видеокарт в Borderlands 3'}, {'title': 'Oninaki — умереть спокойно не дадут. Рецензия'}, {'title': 'The Legend of Zelda: Link’s Awakening — милый музейный экспонат. Рецензия'}, {'title': 'Обзор корпуса Phanteks Evolv X Glass Galaxy Silver: эстетика в каждой детали'}, {'title': 'Обзор Nintendo Switch Lite: больше не переключатель'}, {'title': 'Обзор игрового 34-дюймового UWQHD-монитора LG UltraGear 34GK950G: оправданные ожидания'}, {'title': 'Обзор Apple iPhone 11 Pro Max: лучший в мире смартфон с худшим названием'}, {'title': 'Обзор ASUS ZenBook Pro Duo UX581GV: провальный эксперимент или будущее ноутбуков?'}, {'title': 'The Surge 2 — мастер-класс по сиквелам. Рецензия'}, {'title': 'Gamesblender № 431: эпическая Total War Saga: Troy, хардкорная Nioh 2 и прорывная Disco Elysium'}, {'title': 'Обзор видеокарты ROG Strix GeForce RTX 2080 SUPER OC: в погоне за тишиной'}, {'title': 'Borderlands 3 — игра, застрявшая в прошлом. Рецензия'}, {'title': 'Daemon x Machina — а можно нам другое будущее? Рецензия'}, {'title': 'Обзор камеры Canon PowerShot G5 X Mark II: зачем нужны «мыльницы» в наше время?'}, {'title': 'Первые впечатления от Huawei Mate 30 и Mate 30 Pro: жизнь по-новому'}, {'title': 'Блок питания Cougar VTX600: новый «старый конь»'}, {'title': 'Обзор беспроводных наушников JBL TUNE 120TWS: мобильный звук для требовательных'}, {'title': 'Как правильно и красиво организовать кабель-менеджмент в игровом ПК'}, {'title': 'Обзор материнской платы ASUS ROG Crosshair VIII Formula: первая Formula для Ryzen'}, {'title': 'Первые впечатления от Vivo NEX 3: смартфон без кнопок'}, {'title': 'МойОфис. Эволюция проекта'}]

    def test_valid(self):
        self.assertEqual(valid(self.url).status_code, 200)

    def test_articles(self):
        self.assertCountEqual(articles, self.articles_expected)
